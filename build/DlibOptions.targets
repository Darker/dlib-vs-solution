<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <PropertyPageSchema Include="$(MSBuildThisFileDirectory)\DlibOptions.xaml" />
  </ItemGroup>

  <Target Name="DlibSetDefines" BeforeTargets="BeforeBuild">
    <Message Text="Setting DLIB_USE_CUDA=%(ClCompile.DlibCUDAEnabled) for %(ClCompile.Identity)" />
    <ItemGroup>
      <ClCompile>
        <PreprocessorDefinitions>DLIB_USE_CUDA=%(ClCompile.DlibCUDAEnabled);%(PreprocessorDefinitions)</PreprocessorDefinitions>
      </ClCompile>
    </ItemGroup>
  </Target>
</Project>
